<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Z1N Protocol – How it works</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="robots" content="noindex,nofollow" />

  <style>
    :root{
      --bg:#050812;
      --card-bg:#020617;
      --text-main:#ffffff;
      --text-soft:#8f9ab5;
      --accent:#66d69a;
      --accent-soft:#3a9f63;
      --card-border:rgba(148,163,184,0.25);

      --keys-accent:#f5c842;
      --canon:#c084fc;
      --treasury:#60a5fa;

      --oc:#4ade80;  /* ΩC */
      --oi:#f87171;  /* ΩI */
      --ok:#fbbf24;  /* ΩK */
      --os:#60a5fa;  /* ΩS */

      --shadow: 0 14px 34px rgba(0,0,0,0.42);
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html{ scrollbar-gutter: stable; overflow-y: scroll; scroll-behavior:smooth; }
    body{
      background: var(--bg);
      color: var(--text-main);
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    }
    a{ color: inherit; text-decoration:none; }
    a:hover{ opacity:0.92; }

    /* HEADER (matches your other pages) */
    header{
      height:72px;
      display:flex;
      align-items:center;
      justify-content:center;
      border-bottom:1px solid rgba(255,255,255,0.05);
      margin-bottom:20px;
    }
    .nav-inner{
      width:100%;
      max-width:1200px;
      padding:0 24px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    .logo-link{ display:inline-flex; align-items:center; gap:8px; }
    .logo-dot{
      width:24px; height:24px; border-radius:999px;
      border:1px solid rgba(255,255,255,0.35);
      display:flex; align-items:center; justify-content:center;
      font-size:14px; line-height:1;
    }
    .logo-text{
      font-size:11px;
      letter-spacing:0.18em;
      text-transform:uppercase;
      opacity:0.7;
    }
    .nav-links{ display:flex; gap:22px; font-size:13px; opacity:0.85; flex-wrap:wrap; justify-content:flex-end; }
    .nav-links a{ position:relative; white-space:nowrap; }
    .nav-links a.active{ color: var(--accent); }
    .nav-links a.active::after{
      content:"";
      position:absolute;
      left:0; bottom:-4px;
      width:100%; height:2px;
      border-radius:999px;
      background:linear-gradient(to right, var(--accent), var(--accent-soft));
    }
    @media(max-width:900px){
      .nav-inner{ padding:0 16px; }
      .nav-links{ font-size:12px; gap:14px; }
    }

    /* PAGE */
    .page{
      max-width:1200px;
      margin:0 auto;
      padding: 34px 24px 72px;
    }
    @media(max-width:900px){ .page{ padding: 28px 18px 60px; } }

    h1{
      font-size:42px;
      letter-spacing:-0.02em;
      margin: 0 0 10px 0;
    }
    .lead{
      font-size:16px;
      opacity:0.86;
      line-height:1.7;
      max-width:980px;
      margin-bottom: 10px;
    }
    .lead-small{
      font-size:13px;
      opacity:0.7;
      line-height:1.7;
      max-width:980px;
      margin-bottom: 18px;
    }

    /* TOP: Compact “4 steps” strip */
    .strip{
      position:relative;
      margin-top: 16px;
      border: 1px solid rgba(148,163,184,0.18);
      border-radius: 18px;
      background: radial-gradient(circle at top, rgba(102,214,154,0.10), rgba(2,6,23,0) 62%);
      overflow:hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.26);
    }
    .strip::before{
      content:"";
      position:absolute;
      inset:-1px;
      pointer-events:none;
      border-radius:18px;
      background: radial-gradient(circle at 25% 0%, rgba(102,214,154,0.12), rgba(2,6,23,0) 60%);
      opacity:0.9;
    }
    .strip-inner{ position:relative; padding: 16px; }

    .steps{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap:12px;
    }
    @media(max-width:1000px){ .steps{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
    @media(max-width:560px){ .steps{ grid-template-columns: 1fr; } }

    .step{
      background: rgba(2,6,23,0.62);
      border:1px solid rgba(148,163,184,0.18);
      border-radius: 16px;
      padding: 14px 14px 14px;
      position:relative;
      overflow:hidden;
      transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
      min-height: 168px;
    }
    .step:hover{
      transform: translateY(-2px);
      border-color: rgba(102,214,154,0.42);
      box-shadow: 0 12px 30px rgba(0,0,0,0.35), 0 0 20px rgba(102,214,154,0.10);
    }

    .step-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .step-kicker{
      font-size:11px;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color: rgba(255,255,255,0.70);
    }
    .epoch-pill{
      font-size:11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.22);
      background: rgba(255,255,255,0.02);
      color: rgba(255,255,255,0.78);
      white-space:nowrap;
    }
    .step-title{
      font-size:15px;
      font-weight:700;
      margin-bottom: 6px;
      letter-spacing:-0.01em;
    }
    .step-body{
      font-size:12.5px;
      line-height:1.65;
      color: rgba(255,255,255,0.85);
      margin-bottom: 10px;
    }
    .bullets{
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:7px;
      font-size:12px;
      line-height:1.55;
      color: var(--text-soft);
    }
    .bullets li{
      padding-left:16px;
      position:relative;
    }
    .bullets li::before{
      content:"";
      position:absolute;
      left:0; top:0.60em;
      width:7px; height:7px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.70);
      transform: translateY(-50%);
      opacity:0.9;
    }

    /* CTA row */
    .cta-row{
      margin-top: 12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.45);
      background: transparent;
      color: #e5e7eb;
      font-size: 12px;
      cursor:pointer;
      transition: transform 180ms ease, border-color 180ms ease, background 180ms ease, box-shadow 180ms ease;
      white-space:nowrap;
    }
    .btn:hover{
      border-color: rgba(102,214,154,0.75);
      transform: translateY(-1px);
    }
    .btn-primary{
      background: linear-gradient(90deg, rgba(102,214,154,0.55), rgba(58,159,99,0.55));
      border-color: rgba(58,159,99,0.95);
      color:#061018;
      font-weight:800;
    }
    .btn-primary:hover{
      background: linear-gradient(90deg, var(--accent), var(--accent-soft));
      box-shadow: 0 10px 24px rgba(0,0,0,0.35), 0 0 18px rgba(102,214,154,0.14);
    }

    /* MID: “System map” (2 rows of 3) */
    .section-title{
      margin-top: 26px;
      font-size: 18px;
      letter-spacing:-0.01em;
    }
    .section-sub{
      margin-top: 6px;
      font-size: 13px;
      line-height:1.7;
      color: var(--text-soft);
      max-width: 980px;
    }

    .map{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .rail{
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 18px;
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .rail::before{
      content:"";
      position:absolute;
      inset:-1px;
      pointer-events:none;
      border-radius:18px;
      background: radial-gradient(circle at top, rgba(102,214,154,0.08), rgba(2,6,23,0) 65%);
      opacity:0.9;
    }
    .rail > *{ position:relative; }

    .rail-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 12px;
    }
    .rail-title{
      font-size: 12px;
      letter-spacing:0.16em;
      text-transform:uppercase;
      color: rgba(255,255,255,0.70);
    }
    .rail-note{
      font-size: 11px;
      color: rgba(255,255,255,0.70);
      opacity:0.85;
      border:1px solid rgba(148,163,184,0.22);
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,255,255,0.02);
      white-space:nowrap;
    }

    .nodes{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      position:relative;
    }
    @media(max-width:900px){ .nodes{ grid-template-columns:1fr; } }

    /* Animated connector line */
    .nodes::before{
      content:"";
      position:absolute;
      left: 18px;
      right: 18px;
      top: 44px;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(102,214,154,0.12), rgba(102,214,154,0.32), rgba(102,214,154,0.12));
      opacity:0.8;
    }
    @media(max-width:900px){
      .nodes::before{ display:none; }
    }
    .nodes::after{
      content:"";
      position:absolute;
      left: 18px;
      right: 18px;
      top: 44px;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(102,214,154,0.0), rgba(102,214,154,0.75), rgba(102,214,154,0.0));
      filter: blur(0.2px);
      opacity:0.55;
      animation: sweep 2.8s linear infinite;
      transform-origin:left;
    }
    @keyframes sweep{
      0%{ transform: translateX(-35%); opacity:0.0; }
      15%{ opacity:0.55; }
      50%{ opacity:0.55; }
      85%{ opacity:0.55; }
      100%{ transform: translateX(35%); opacity:0.0; }
    }
    @media(max-width:900px){ .nodes::after{ display:none; } }

    .node{
      background: rgba(15,23,42,0.42);
      border: 1px solid rgba(148,163,184,0.18);
      border-radius: 16px;
      padding: 14px;
      transition: transform 200ms ease, border-color 200ms ease, box-shadow 200ms ease;
      min-height: 160px;
      position:relative;
      overflow:hidden;
    }
    .node:hover{
      transform: translateY(-2px);
      border-color: rgba(102,214,154,0.40);
      box-shadow: 0 10px 26px rgba(0,0,0,0.33);
    }

    .node-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 8px;
    }
    .node-name{
      font-size: 14px;
      font-weight: 750;
      letter-spacing:-0.01em;
    }
    .node-badge{
      font-size: 10px;
      padding: 6px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.22);
      color: rgba(255,255,255,0.75);
      background: rgba(255,255,255,0.02);
      white-space:nowrap;
    }
    .node-body{
      font-size: 12.5px;
      line-height: 1.65;
      color: rgba(255,255,255,0.84);
      margin-bottom: 10px;
    }

    /* Intent legend */
    .intent-legend{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      font-size:12px;
      margin-top: 8px;
      padding-top: 10px;
      border-top: 1px solid rgba(148,163,184,0.16);
    }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding: 6px 9px;
      border-radius: 999px;
      border:1px solid rgba(148,163,184,0.18);
      background: rgba(2,6,23,0.45);
      color: rgba(255,255,255,0.82);
      white-space:nowrap;
    }
    .dot{
      width:9px; height:9px;
      border-radius:50%;
      background: rgba(255,255,255,0.3);
    }
    .oc .dot{ background: var(--oc); }
    .oi .dot{ background: var(--oi); }
    .ok .dot{ background: var(--ok); }
    .os .dot{ background: var(--os); }

    /* Key glyph preview */
    .glyph-box{
      margin-top: 8px;
      font-family: "Segoe UI Symbol", system-ui, sans-serif;
      font-size: 16px;
      letter-spacing: 2px;
      padding: 10px 12px;
      border-radius: 12px;
      border:1px solid rgba(148,163,184,0.18);
      background: rgba(2,6,23,0.55);
      color: rgba(255,255,255,0.86);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .glyph-box span.small{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 11px;
      color: var(--text-soft);
      letter-spacing: 0;
      opacity:0.85;
      white-space:nowrap;
    }

    /* Live stats */
    .stats{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
    }
    @media(max-width:900px){ .stats{ grid-template-columns:1fr; } }

    .stat{
      background: var(--card-bg);
      border:1px solid var(--card-border);
      border-radius: 18px;
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .stat::before{
      content:"";
      position:absolute;
      inset:-1px;
      pointer-events:none;
      border-radius:18px;
      background: radial-gradient(circle at top, rgba(102,214,154,0.08), rgba(2,6,23,0) 65%);
      opacity:0.9;
    }
    .stat > *{ position:relative; }
    .stat-kicker{
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.70);
      margin-bottom: 8px;
    }
    .stat-value{
      font-size: 34px;
      font-weight: 800;
      letter-spacing:-0.02em;
      color: var(--accent);
      margin-bottom: 6px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    }
    .stat-sub{
      font-size: 12px;
      color: var(--text-soft);
      line-height:1.6;
    }
    .stat-link{
      margin-top: 10px;
      display:inline-flex;
      gap:8px;
      align-items:center;
      font-size: 12px;
      color: rgba(255,255,255,0.80);
      border: 1px solid rgba(148,163,184,0.22);
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.02);
    }

    /* FAQ */
    .faq{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    @media(max-width:900px){ .faq{ grid-template-columns: 1fr; } }

    details{
      background: var(--card-bg);
      border:1px solid var(--card-border);
      border-radius: 18px;
      padding: 14px 14px 12px;
    }
    summary{
      cursor:pointer;
      list-style:none;
      font-size: 14px;
      font-weight: 700;
      letter-spacing:-0.01em;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    summary::-webkit-details-marker{ display:none; }
    .faq-body{
      margin-top: 10px;
      font-size: 13px;
      line-height: 1.65;
      color: var(--text-soft);
    }

    footer{
      border-top: 1px solid rgba(255,255,255,0.05);
      padding: 18px 20px;
      font-size: 12px;
      text-align:center;
      opacity:0.85;
      margin-top: 44px;
    }
    footer .tagline{ margin-bottom: 6px; font-size: 13px; }
    footer .links{ display:flex; justify-content:center; gap:18px; font-size: 13px; }

    /* Small utility */
    .muted{ color: var(--text-soft); }
  </style>
</head>

<body>
<header>
  <div class="nav-inner">
    <a href="/index.html" class="logo-link">
      <div class="logo-dot">Ω</div>
      <div class="logo-text">Z1N PROTOCOL</div>
    </a>

    <nav class="nav-links">
      <a href="/about.html">About</a>
      <!-- You can rename this label to "Live Stats" if you want to keep the menu wording -->
      <a href="/how-it-works.html" class="active">How it works</a>
      <a href="/artefacts.html">Artefacts</a>
      <a href="/nbi-artefacts.html">4 NBIs</a>
      <a href="/mint-key.html">Mint your Key</a>
      <a href="/your-keys.html">Your Keys</a>
    </nav>
  </div>
</header>

<main class="page">
  <h1>How it works</h1>
  <p class="lead">
    Z1N is a minimal loop: <b>signal</b>, then <b>attestation one epoch later</b>, then <b>winners + claims after settlement</b>.
  </p>
  <p class="lead-small">
    The Field records <b>structure</b> (intent, timing, attestation weight) — not your private words.
  </p>

  <!-- 4-step strip -->
  <section class="strip" aria-label="Core steps">
    <div class="strip-inner">
      <div class="steps">
        <article class="step">
          <div class="step-top">
            <div class="step-kicker">1 · Key</div>
            <div class="epoch-pill">Epoch t</div>
          </div>
          <div class="step-title">Mint your Key</div>
          <div class="step-body">Soulbound coordinate. No resale. No speculation.</div>
          <ul class="bullets">
            <li>Connect → sign ritual (0 gas)</li>
            <li>Mint at epoch price</li>
            <li>Glyphs become permanent</li>
          </ul>
        </article>

        <article class="step">
          <div class="step-top">
            <div class="step-kicker">2 · Signal</div>
            <div class="epoch-pill">Epoch t</div>
          </div>
          <div class="step-title">Signals (Field Ritual)</div>
          <div class="step-body">Cast intent into the Field. The loop begins here.</div>
          <ul class="bullets">
            <li>Choose ΩC / ΩI / ΩK / ΩS</li>
            <li>Epoch-scoped signal window</li>
            <li>Optional: reply or whisper</li>
          </ul>
        </article>

        <article class="step">
          <div class="step-top">
            <div class="step-kicker">3 · Attest</div>
            <div class="epoch-pill">Epoch t+1</div>
          </div>
          <div class="step-title">Attestation</div>
          <div class="step-body">Attest only after the window closes.</div>
          <ul class="bullets">
            <li>References finalized epoch t</li>
            <li>Weight builds convergence</li>
            <li>Does not transfer ownership</li>
          </ul>
        </article>

        <article class="step">
          <div class="step-top">
            <div class="step-kicker">4 · Output</div>
            <div class="epoch-pill">Epoch t+2</div>
          </div>
          <div class="step-title">Winners & claim</div>
          <div class="step-body">Claims appear after attestation settles.</div>
          <ul class="bullets">
            <li>Winner selection per window</li>
            <li>Claimable rewards per Key</li>
            <li>Route: self / recycle / nexus</li>
          </ul>
        </article>
      </div>

      <div class="cta-row" style="margin-top:14px;">
        <a class="btn btn-primary" href="/mint-key.html">Mint your Key</a>
        <a class="btn" href="/your-keys.html">Open Your Keys</a>
        <a class="btn" href="/artefacts.html">View Artefacts</a>
      </div>
    </div>
  </section>

  <!-- SYSTEM MAP -->
  <h2 class="section-title">System map</h2>
  <p class="section-sub">
    Two rails: the <b>Field Ritual loop</b> (the live mechanism) and <b>Personal Presence</b> (what your Key accumulates over time).
  </p>

  <section class="map" aria-label="System map">
    <!-- Rail 1 -->
    <div class="rail">
      <div class="rail-head">
        <div class="rail-title">Field Ritual Loop</div>
        <div class="rail-note">t → t+1 → t+2</div>
      </div>

      <div class="nodes">
        <div class="node">
          <div class="node-top">
            <div class="node-name">Signals</div>
            <div class="node-badge">Epoch t</div>
          </div>
          <div class="node-body">
            Cast an intent-mix into the window. The Field indexes pattern, not private text.
          </div>

          <div class="intent-legend" aria-label="Intent legend">
            <span class="tag oc"><span class="dot"></span> ΩC · Collective</span>
            <span class="tag oi"><span class="dot"></span> ΩI · Individual</span>
            <span class="tag ok"><span class="dot"></span> ΩK · Creative</span>
            <span class="tag os"><span class="dot"></span> ΩS · Silence</span>
          </div>
        </div>

        <div class="node">
          <div class="node-top">
            <div class="node-name">Attest</div>
            <div class="node-badge">Epoch t+1</div>
          </div>
          <div class="node-body">
            Attestation happens only after closure so the target can’t move.
          </div>
          <ul class="bullets">
            <li>Settles “what happened” in epoch t</li>
            <li>Amplifies resonance weight</li>
            <li>Enables deterministic output</li>
          </ul>
        </div>

        <div class="node">
          <div class="node-top">
            <div class="node-name">Winners + Claim</div>
            <div class="node-badge">Epoch t+2</div>
          </div>
          <div class="node-body">
            Winners finalize after attestation settlement. Claims appear per Key.
          </div>
          <ul class="bullets">
            <li>Claim route: <b>self</b> / <b>recycle</b> / <b>nexus</b></li>
            <li>Claim window: <b>21 epochs</b></li>
            <li>Unclaimed recycles forward</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Rail 2 -->
    <div class="rail">
      <div class="rail-head">
        <div class="rail-title">Personal Presence</div>
        <div class="rail-note">identity → mirrors → anchors</div>
      </div>

      <div class="nodes">
        <div class="node">
          <div class="node-top">
            <div class="node-name">Key</div>
            <div class="node-badge">Soulbound</div>
          </div>
          <div class="node-body">
            A Key is a coordinate in the 21M manifold — permanently bound to an address.
          </div>
          <div class="glyph-box" title="Example glyph sequence">
            <div id="glyphPreview">Ω · ◈ · ⌁</div>
            <span class="small">glyphs</span>
          </div>
        </div>

        <div class="node">
          <div class="node-top">
            <div class="node-name">Artefacts</div>
            <div class="node-badge" style="border-color: rgba(102,214,154,0.35); color: rgba(102,214,154,0.95);">Live</div>
          </div>
          <div class="node-body">
            Mirrors of participation patterns. Access is keyed — not public raw logs.
          </div>
          <div class="cta-row">
            <a class="btn" href="/artefacts.html">Open Artefacts</a>
            <a class="btn" href="/mint-live-artefact.html">Mint Artefact</a>
          </div>
        </div>

        <div class="node">
          <div class="node-top">
            <div class="node-name">Canon Anchors</div>
            <div class="node-badge" style="border-color: rgba(192,132,252,0.35); color: rgba(192,132,252,0.95);">Permanent</div>
          </div>
          <div class="node-body">
            Anchors are irreversible markers of meaningful epochs — written to the Field.
          </div>
          <div class="cta-row">
            <a class="btn" href="/your-keys.html">Open Dashboard</a>
            <a class="btn" href="/mint-canon.html">Mint Anchor</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- LIVE STATS -->
  <h2 class="section-title" style="margin-top:28px;">Live stats</h2>
  <p class="section-sub">
    Compact epoch stats (no charts). If stats can’t load, the cards stay at <b>—</b> and you can still open the full stats page.
  </p>

  <section class="stats" aria-label="Live stats">
    <div class="stat">
      <div class="stat-kicker">Last 21 epochs</div>
      <div class="stat-value" id="stat21">—</div>
      <div class="stat-sub">Rolling window aligned to claim cycle.</div>
      <a class="stat-link" href="/live-stats.html">Open full stats ↗</a>
    </div>

    <div class="stat">
      <div class="stat-kicker">Last 210 epochs</div>
      <div class="stat-value" id="stat210">—</div>
      <div class="stat-sub">Longer window for drift & convergence.</div>
      <a class="stat-link" href="/live-stats.html">Open full stats ↗</a>
    </div>

    <div class="stat">
      <div class="stat-kicker">Total epochs</div>
      <div class="stat-value" id="statTotal">—</div>
      <div class="stat-sub">Total epochs observed by the Field.</div>
      <a class="stat-link" href="/live-stats.html">Open full stats ↗</a>
    </div>
  </section>

  <!-- FAQ -->
  <h2 class="section-title" style="margin-top:28px;">FAQ</h2>
  <section class="faq" aria-label="FAQ">
    <details>
      <summary>Are my signals stored on the blockchain? <span class="muted">+</span></summary>
      <div class="faq-body">
        The protocol focuses on <b>structure</b> (intent, epoch timing, attestation weight). The goal is not to publish private text as raw on-chain content.
        Depending on the path (direct vs relayed / stealth), your wallet address may be hidden while the Field still records participation.
      </div>
    </details>

    <details>
      <summary>Why attestation happens one epoch later? <span class="muted">+</span></summary>
      <div class="faq-body">
        Attestation must reference a <b>closed</b> window (epoch t). This prevents moving targets and keeps the output deterministic.
      </div>
    </details>

    <details>
      <summary>Why winners are t+2 and not earlier? <span class="muted">+</span></summary>
      <div class="faq-body">
        Winners finalize after attestation settlement (t+1). The extra step (t+2) avoids ambiguity and makes the result verifiable.
      </div>
    </details>

    <details>
      <summary>What is “recycle” vs “nexus”? <span class="muted">+</span></summary>
      <div class="faq-body">
        <b>Recycle</b> routes rewards back into the next epoch’s pool. <b>Nexus</b> routes rewards to a designated protocol wallet.
        Both are routing policies, not ownership changes of your Key.
      </div>
    </details>

    <details>
      <summary>Can I mint multiple keys from 1 wallet? <span class="muted">+</span></summary>
      <div class="faq-body">
        Yes. One address can mint multiple Keys (for itself or on behalf of others). Each Key stays soulbound once minted.
      </div>
    </details>
  </section>
</main>

<footer>
  <div class="tagline">Your presence is real · The Field remembers</div>
  <div class="links">
    <a href="https://github.com/z1nprotocol" target="_blank" rel="noreferrer">GitHub</a>
    <a href="https://x.com/z1n_AI" target="_blank" rel="noreferrer">X</a>
  </div>
</footer>

<script>
(function(){
  // Glyph preview (pure front-end, no chain reads)
  var glyphSet = ["Ω","◈","⌁","◇","⬡","⟡","⟢","⟁","⟠","⟣","⟐","✶","⧈","⧉","⧊","⧋","⧌","⧍","⧎","⧏"];
  function pick(n){
    var out = [];
    for (var i=0;i<n;i++){
      out.push(glyphSet[Math.floor(Math.random()*glyphSet.length)]);
    }
    return out.join("  ");
  }
  var el = document.getElementById("glyphPreview");
  if (el) el.textContent = pick(6);

  // Live stats (best-effort).
  // If your API endpoint differs, this fails gracefully and leaves "—".
  var API_BASE = "https://z1n-backend-production.up.railway.app/api";

  function setText(id, val){
    var e = document.getElementById(id);
    if (!e) return;
    e.textContent = (val === null || val === undefined || val === "") ? "—" : String(val);
  }

  async function tryFetch(url){
    try{
      var r = await fetch(url, { cache: "no-store" });
      if (!r.ok) return null;
      return await r.json();
    }catch(e){
      return null;
    }
  }

  // We try a few likely endpoints; first that returns usable values wins.
  async function loadStats(){
    var candidates = [
      API_BASE + "/stats",
      API_BASE + "/live-stats",
      API_BASE + "/epochs/stats",
      API_BASE + "/protocol/stats"
    ];

    for (var i=0;i<candidates.length;i++){
      var data = await tryFetch(candidates[i]);
      if (!data) continue;

      // Accept a few possible shapes:
      // { last21: X, last210: Y, totalEpochs: Z }
      // { epochs: { last21: X, last210: Y, total: Z } }
      // { windows: { "21": X, "210": Y }, totalEpochs: Z }
      var last21 = null, last210 = null, total = null;

      if (typeof data.last21 !== "undefined") last21 = data.last21;
      if (typeof data.last210 !== "undefined") last210 = data.last210;
      if (typeof data.totalEpochs !== "undefined") total = data.totalEpochs;

      if (data.epochs){
        if (typeof data.epochs.last21 !== "undefined") last21 = data.epochs.last21;
        if (typeof data.epochs.last210 !== "undefined") last210 = data.epochs.last210;
        if (typeof data.epochs.total !== "undefined") total = data.epochs.total;
        if (typeof data.epochs.totalEpochs !== "undefined") total = data.epochs.totalEpochs;
      }

      if (data.windows){
        if (typeof data.windows["21"] !== "undefined") last21 = data.windows["21"];
        if (typeof data.windows["210"] !== "undefined") last210 = data.windows["210"];
      }

      // If we got at least one meaningful number, render and stop.
      var gotSomething = (last21 !== null) || (last210 !== null) || (total !== null);
      if (gotSomething){
        setText("stat21", last21);
        setText("stat210", last210);
        setText("statTotal", total);
        return;
      }
    }

    // fallback stays as "—"
    setText("stat21", "—");
    setText("stat210", "—");
    setText("statTotal", "—");
  }

  loadStats();
})();
</script>

<script src="js/gas-banner.js"></script>
</body>
</html>
