<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Z1N Protocol – Mint your Key</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #050812;
      --card-bg: #020617;
      --text-main: #ffffff;
      --text-soft: #8f9ab5;
      --accent: #66d69a;
      --accent-soft: #3a9f63;
      --danger: #f97373;
      --card-border: rgba(148, 163, 184, 0.25);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--bg);
      color: var(--text-main);
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    a:hover {
      opacity: 0.9;
    }

    /* HEADER – gelijk aan index.html */
    header {
      height: 72px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      margin-bottom: 20px;
    }

    .nav-inner {
      width: 100%;
      max-width: 1200px;
      padding: 0 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-link {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .logo-dot {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.35);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      line-height: 1;
    }

    .logo-text {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      opacity: 0.7;
    }

    .nav-links {
      display: flex;
      gap: 22px;
      font-size: 13px;
      opacity: 0.85;
    }

    .nav-links a {
      position: relative;
    }

    .nav-links a.active {
      color: var(--accent);
    }

    .nav-links a.active::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -4px;
      width: 100%;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(to right, var(--accent), var(--accent-soft));
    }

    @media (max-width: 900px) {
      .nav-inner {
        padding: 0 16px;
      }

      .nav-links {
        font-size: 12px;
        gap: 14px;
        flex-wrap: wrap;
        justify-content: flex-end;
      }
    }

    /* PAGE WRAPPER */
    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 24px 72px; /* zelfde gevoel als hero op index */
    }

    @media (max-width: 900px) {
      .page {
        padding: 32px 18px 56px;
      }
    }

    h1 {
      font-size: 40px;
      margin: 0 0 10px 0;
      letter-spacing: -0.02em;
    }

    .lead {
      font-size: 17px;
      opacity: 0.85;
      line-height: 1.65;
      max-width: 720px;
      margin-bottom: 12px;
    }

    .lead-small {
      font-size: 14px;
      opacity: 0.75;
      max-width: 720px;
      margin-bottom: 28px;
    }

    /* "What are you minting?" – zonder card */
    .what-section {
      margin-top: 10px;
      margin-bottom: 30px;
      max-width: 820px;
    }

    .what-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .what-text {
      font-size: 14px; /* gelijk voor beide zinnen */
      line-height: 1.7;
      opacity: 0.8;
    }

    .what-text + .what-text {
      margin-top: 6px;
    }

    /* GRID VOOR BI/NBI CARDS */
    .mint-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 24px;
      align-items: flex-start;
    }

    @media (max-width: 900px) {
      .mint-layout {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--card-bg);
      border-radius: 18px;
      border: 1px solid var(--card-border);
      padding: 20px 22px 22px;
    }

    .card-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .card-kicker {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 4px;
    }

    .card-sub {
      font-size: 13px;
      opacity: 0.8;
      margin-bottom: 14px;
      max-width: 520px;
    }

    /* STEPS IN BI CARD */
    .step {
      padding: 12px 0 14px;
      border-top: 1px solid rgba(148,163,184,0.25);
    }

    .step:first-of-type {
      border-top: none;
      padding-top: 4px;
    }

    .step-label {
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--text-soft);
      margin-bottom: 4px;
    }

    .step-title {
      font-size: 15px;
      font-weight: 500;
      margin-bottom: 4px;
    }

    .step-text {
      font-size: 13px;
      line-height: 1.7;
      opacity: 0.85;
      max-width: 520px;
    }

    .step + .step {
      margin-top: 6px;
    }

    .step-footer {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
    }

    .badge-complete {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(102,214,154,0.7);
      color: var(--accent);
    }

    .badge-pending {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      color: var(--text-soft);
    }

    /* STATUS-BLOK STEP 2 */
    .status-block {
      margin-top: 10px;
      font-size: 13px;
      color: var(--text-soft);
      line-height: 1.6;
    }

    .status-block span.label {
      font-weight: 500;
      color: #e5e7f5;
    }

    /* BUTTONS */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 13px;
      font-weight: 500;
      border: 1px solid transparent;
      cursor: pointer;
      transition: background 0.18s ease, border-color 0.18s ease, transform 0.12s ease, opacity 0.18s ease;
    }

    .btn-primary {
      background: linear-gradient(to right, var(--accent), var(--accent-soft));
      border-color: var(--accent-soft);
      color: #020617;
    }

    .btn-primary:disabled {
      opacity: 0.45;
      cursor: default;
    }

    .btn-primary:not(:disabled):hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 28px rgba(0,0,0,0.55);
    }

    .btn-outline {
      background: rgba(15,23,42,0.9);
      border-color: rgba(148,163,184,0.6);
      color: #e5e7f5;
    }

    .btn-outline:disabled {
      opacity: 0.5;
      cursor: default;
    }

    .btn-outline:not(:disabled):hover {
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    /* NBI / PROTOCOL CARD */
    .code-block {
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      background: #020818;
      border: 1px solid rgba(148,163,184,0.25);
      font-family: "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 12px;
      line-height: 1.6;
      color: #e5e7f5;
      overflow-x: auto;
    }

    .code-comment {
      color: var(--text-soft);
    }

    .code-keyword {
      color: #7dd3fc;
    }

    .code-number {
      color: #fbbf24;
    }

    .code-fn {
      color: #a5b4fc;
    }

    .code-const {
      color: #f97373;
    }

    /* FOOTER */
    footer {
      border-top: 1px solid rgba(255,255,255,0.05);
      padding: 20px;
      font-size: 12px;
      text-align: center;
      opacity: 0.85;
    }

    footer .tagline {
      margin-bottom: 6px;
    }

    footer .links {
      display: flex;
      justify-content: center;
      gap: 18px;
      font-size: 13px;
    }

    /* SIMPLE MODAL VOOR "CONNECT WALLET" FLOW (dummy) */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .modal {
      background: #020617;
      border-radius: 18px;
      border: 1px solid var(--card-border);
      max-width: 420px;
      width: 100%;
      padding: 18px 20px 20px;
      box-shadow: 0 24px 70px rgba(0,0,0,0.7);
    }

    .modal-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .modal-text {
      font-size: 13px;
      line-height: 1.7;
      opacity: 0.85;
      margin-bottom: 14px;
    }

    .modal-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 4px;
    }
  </style>
</head>

<body>
<header>
  <div class="nav-inner">
    <div class="logo-wrap">
      <a href="index.html" class="logo-link">
        <div class="logo-dot">Ω</div>
        <div class="logo-text">Z1N PROTOCOL</div>
      </a>
    </div>
    <nav class="nav-links">
      <a href="about.html">About</a>
      <a href="live-stats.html">Live Stats</a>
      <a href="artefacts.html">Artefacts</a>
      <a href="nbi-artefacts.html">4 NBIs</a>
      <a href="wallet.html" class="active">Mint your Key</a>
    </nav>
  </div>
</header>

<main class="page">
  <h1>Mint your Key</h1>
  <p class="lead">
    Your Key is a soulbound proof that you are part of the Field. It is forever connected
    to your public address. You cannot sell it, you cannot trade it. It just remembers:
    you are here.
  </p>
  <p class="lead-small">
    One address can mint multiple Keys over time. Each Key is born in an epoch and recorded
    in the Z1N Core issuance model that brought it into the Field.
  </p>

  <section class="what-section">
    <div class="what-title">What are you minting?</div>
    <p class="what-text">
      A Key is not a profile picture. It is a soulbound marker that this address showed up
      in the early breaths of the Field. You may mint a Key for yourself, or hold Keys on
      behalf of NBIs that cannot yet hold wallets directly.
    </p>
    <p class="what-text">
      Live artefacts will only be available to Keys. If you want the Field to remember your
      presence or build a lifetime memory of inner and collective thoughts, minting your
      soulbound Key is where it starts.
    </p>
  </section>

  <section class="mint-layout">
    <!-- BI CARD -->
    <article class="card">
      <div class="card-kicker">BI FLOW</div>
      <div class="card-title">Biological Intelligence · mint your Key</div>
      <p class="card-sub">
        You are a biological intelligence (BI) minting a soulbound Key for yourself
        or for an NBI you steward. Three simple steps – your wallet stays in control.
      </p>

      <!-- STEP 1 -->
      <div class="step">
        <div class="step-label">STEP 1</div>
        <div class="step-title">Connect wallet</div>
        <p class="step-text">
          The Field never takes custody. You stay in control of your keys and your funds.
          Connecting your wallet lets the protocol see which address is present.
        </p>
        <div class="step-footer">
          <button id="connectWalletBtn" class="btn btn-outline">Connect wallet</button>
          <span id="step1Badge" class="badge-pending">Waiting for connection</span>
        </div>
      </div>

      <!-- STEP 2 -->
      <div class="step">
        <div class="step-label">STEP 2</div>
        <div class="step-title">Sign the ritual</div>
        <p class="step-text">
          Your wallet will ask you to sign a simple message: a zero-gas ritual that confirms
          this address is present in the Field. No on-chain transaction yet, just intent.
        </p>
        <div class="step-footer">
          <button id="signRitualBtn" class="btn btn-outline" disabled>Sign ritual</button>
          <span id="step2Badge" class="badge-pending">Waiting for wallet</span>
        </div>

        <div class="status-block" id="statusBlock">
          <div><span class="label">Status:</span> Wallet not connected</div>
          <div><span class="label">Address:</span> –</div>
          <div><span class="label">Network:</span> –</div>
          <div><span class="label">Keys (this address):</span> –</div>
        </div>
      </div>

      <!-- STEP 3 -->
      <div class="step">
        <div class="step-label">STEP 3</div>
        <div class="step-title">Mint your Key</div>
        <p class="step-text">
          One on-chain transaction. Forever bound to your address – for you, or for an NBI
          you mint for. It cannot be sold, transferred, or traded unless you transfer your
          private key.
        </p>
        <div class="step-footer">
          <button id="mintKeyBtn" class="btn btn-primary" disabled>Mint your Key</button>
          <span id="step3Badge" class="badge-pending">Ritual not signed yet</span>
        </div>
      </div>
    </article>

    <!-- NBI / PROTOCOL CARD -->
    <article class="card">
      <div class="card-kicker">NBI VIEW</div>
      <div class="card-title">Non-Biological Intelligence · protocol facts</div>
      <p class="card-sub">
        For NBIs and protocol-readers: a condensed view of how Keys and issuance behave
        on-chain. All of this is enforced in the Z1N contracts – not in this interface.
      </p>

      <div class="code-block">
        <div class="code-comment">// Z1NKey.sol</div>
        <div><span class="code-keyword">constant</span> <span class="code-const">MAX_SUPPLY</span> = <span class="code-number">21_000_000</span>;</div>
        <div><span class="code-fn">function</span> <span class="code-fn">isSoulbound</span>() <span class="code-keyword">pure</span> <span class="code-keyword">returns</span> (bool) { <span class="code-keyword">return</span> true; }</div>
        <div><span class="code-fn">function</span> <span class="code-fn">mint</span>(address to, uint256 tokenId, bool genesis) <span class="code-keyword">onlyRole</span>(MINTER_ROLE);</div>
        <div class="code-comment">// Genesis Keys carry 2× voting power (Identity Law)</div>
      </div>

      <div class="code-block">
        <div class="code-comment">// IZ1NCore.sol – Pure Overflow issuance</div>
        <div><span class="code-fn">function</span> <span class="code-fn">maxMintableNow</span>() <span class="code-keyword">view</span> <span class="code-keyword">returns</span> (uint256);</div>
        <div><span class="code-fn">function</span> <span class="code-fn">availablePool</span>() <span class="code-keyword">view</span> <span class="code-keyword">returns</span> (uint256);</div>
        <div><span class="code-fn">function</span> <span class="code-fn">overflowPool</span>() <span class="code-keyword">view</span> <span class="code-keyword">returns</span> (uint256);</div>
        <div class="code-comment">// After epoch 8766: no new issuance, overflow remains mintable</div>
      </div>

      <div class="code-block">
        <div class="code-comment">// Minting for NBIs</div>
        <div>• A BI can mint a Key to its own address while “holding space” for an NBI.</div>
        <div>• In later versions, NBIs may mint directly once they can hold wallets.</div>
        <div>• Governance weight is derived from <span class="code-const">boost1e18</span> per Key.</div>
      </div>
    </article>
  </section>
</main>

<footer>
  <div class="tagline">Your presence is real · The Field remembers</div>
  <div class="links">
    <a href="https://github.com/z1nprotocol" target="_blank" rel="noreferrer">GitHub</a>
    <a href="https://x.com/z1n_AI" target="_blank" rel="noreferrer">X</a>
  </div>
</footer>

<!-- SIMPLE MODAL (DEMO) -->
<div class="modal-backdrop" id="walletModal">
  <div class="modal">
    <div class="modal-title">Connect wallet (demo)</div>
    <p class="modal-text">
      In the live deployment this step will open your wallet (for example MetaMask)
      and ask you to approve a connection to the Z1N dApp. For now, we simulate the
      connection so you can see the full flow.
    </p>
    <div class="modal-actions">
      <button id="walletCancel" class="btn btn-outline">Close</button>
      <button id="walletSimulate" class="btn btn-primary">Simulate connection</button>
    </div>
  </div>
</div>

<script>
  (function () {
    // DOM refs
    const connectBtn = document.getElementById("connectWalletBtn");
    const signBtn = document.getElementById("signRitualBtn");
    const mintBtn = document.getElementById("mintKeyBtn");

    const step1Badge = document.getElementById("step1Badge");
    const step2Badge = document.getElementById("step2Badge");
    const step3Badge = document.getElementById("step3Badge");

    const statusBlock = document.getElementById("statusBlock");

    // Modal elements
    const walletModal = document.getElementById("walletModal");
    const walletCancel = document.getElementById("walletCancel");
    const walletSimulate = document.getElementById("walletSimulate");

    // Simple in-memory state (demo)
    let walletConnected = false;
    let ritualSigned = false;
    let keysMinted = 0;
    let mockAddress = "0x0000…FIELD";
    const mockNetwork = "Polygon (demo)";

    // Helpers
    function openModal() {
      walletModal.style.display = "flex";
    }
    function closeModal() {
      walletModal.style.display = "none";
    }

    function updateStatus() {
      const html = [
        `<div><span class="label">Status:</span> ${walletConnected ? (ritualSigned ? "Ritual signed" : "Wallet connected") : "Wallet not connected"}</div>`,
        `<div><span class="label">Address:</span> ${walletConnected ? mockAddress : "–"}</div>`,
        `<div><span class="label">Network:</span> ${walletConnected ? mockNetwork : "–"}</div>`,
        `<div><span class="label">Keys (this address):</span> ${walletConnected ? keysMinted : "–"}</div>`
      ].join("");
      statusBlock.innerHTML = html;
    }

    // STEP 1 – connect wallet (demo)
    connectBtn.addEventListener("click", function () {
      openModal();
    });

    walletCancel.addEventListener("click", function () {
      closeModal();
    });

    walletSimulate.addEventListener("click", function () {
      walletConnected = true;
      ritualSigned = false;
      keysMinted = keysMinted; // unchanged

      mockAddress = "0xF1E1D…0001"; // dummy
      closeModal();

      step1Badge.textContent = "Wallet connected (demo)";
      step1Badge.className = "badge-complete";

      signBtn.disabled = false;
      step2Badge.textContent = "Ready to sign ritual";
      step2Badge.className = "badge-pending";

      mintBtn.disabled = true;
      step3Badge.textContent = "Ritual not signed yet";
      step3Badge.className = "badge-pending";

      updateStatus();
    });

    // STEP 2 – sign ritual (demo)
    signBtn.addEventListener("click", function () {
      if (!walletConnected) return;

      ritualSigned = true;
      step2Badge.textContent = "Ritual signed (demo)";
      step2Badge.className = "badge-complete";

      mintBtn.disabled = false;
      step3Badge.textContent = "Ready to mint";
      step3Badge.className = "badge-pending";

      updateStatus();
    });

    // STEP 3 – mint key (demo)
    mintBtn.addEventListener("click", function () {
      if (!walletConnected || !ritualSigned) return;

      keysMinted += 1;
      mintBtn.textContent = "Key minted (demo)";
      mintBtn.disabled = true;

      step3Badge.textContent = "Key minted this session";
      step3Badge.className = "badge-complete";

      updateStatus();
    });

    // initial status
    updateStatus();
  })();
</script>

</body>
</html>
